<div class="modal fade" data-bs-backdrop="static" id="newReminder" tabindex="-1" aria-labelledby="newReminderLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <h5 class="modal-title" id="newReminderLabel">Nuevo recordatorio
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    (click)="onCancel()"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="form" (ngSubmit)="onSubmit()" class="overflow-visible">
                    <div class="row">

                        <div *ngIf="route !== 'medication'" class="col-12">

                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" formControlName="description" placeholder=""
                                    maxlength="50">
                                <label>Descripción</label>
                                <p class="form-error" *ngIf="checkError('description', 'required')">Debes indicar una
                                    descripción.
                                </p>
                            </div>

                        </div>
                        <div *ngIf='route === "cares"' class="col-sm-6">

                            <div class="form-floating mb-3">
                                <select class="form-select" formControlName="type">
                                    <option value="bath">Baño</option>
                                    <option value="hair">Pelo</option>
                                    <option value="ears">Oídos</option>
                                    <option value="nails">Uñas</option>
                                    <option value="teeth">Dientes</option>
                                </select>
                                <label>Tipo de cuidado</label>
                                <p class="form-error" *ngIf="checkError('type', 'required')">Debes seleccionar un
                                    tipo.
                                </p>
                            </div>

                        </div>
                        <div *ngIf='route === "deworming"' class="col-sm-6">

                            <div class="form-floating mb-3">
                                <select class="form-select" formControlName="type">
                                    <option value="external">Externa</option>
                                    <option value="internal">Interna</option>
                                </select>
                                <label>Desparasitación</label>
                                <p class="form-error" *ngIf="checkError('type', 'required')">Debes seleccionar un
                                    tipo.
                                </p>
                            </div>

                        </div>
                        <div *ngIf='route === "medication"' class="col-12">

                            <div class="form-floating mb-3">
                                <select class="form-select" formControlName="type">
                                    <option *ngFor="let medication of arrMedications, let i = index" [value]="i">
                                        {{medication.name}}</option>
                                </select>
                                <label>Medicamento</label>
                                <p class="form-error" *ngIf="checkError('type', 'required')">Debes seleccionar un
                                    medicamento.
                                </p>
                            </div>

                        </div>
                        <div
                            [ngClass]="{'col-sm-6': route === 'cares' || route === 'deworming' , 'col-12': route !== 'cares' && route !== 'deworming'}">

                            <div class="form-floating mb-3">
                                <input type="date" class="form-control" formControlName="reminder_date">
                                <label>Fecha</label>
                                <p class="form-error" *ngIf="checkError('reminder_date', 'required')">Debes insertar una
                                    fecha.
                                </p>
                            </div>

                        </div>
                        <div class="col-12">

                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" formControlName="check" id="check">
                                <label class="form-check-label" for="check">
                                    ¿Repetir?
                                </label>
                            </div>

                        </div>
                        <div *ngIf="form.value.check" class="col-12">

                            <div class="form-floating mb-3">
                                <input type="number" max="52" min="1" step="1" class="form-control" placeholder=""
                                    formControlName="repetitions">
                                <label>Repeticiones</label>
                                <p class="form-error" *ngIf="checkError('repetitions', 'required')">Debe introducir un
                                    valor válido.</p>
                            </div>

                        </div>
                        <div *ngIf="form.value.check" class="col-sm-6">

                            <div class="form-floating mb-3">
                                <input type="number" max="52" min="1" step="1" class="form-control" placeholder=""
                                    formControlName="interval">
                                <label>Repetir cada</label>
                                <p class="form-error" *ngIf="checkError('interval', 'required')">Debe introducir un
                                    valor válido.</p>
                            </div>

                        </div>
                        <div *ngIf="form.value.check" class="col-sm-6">

                            <div class="form-floating mb-3">
                                <select class="form-select" formControlName="r_unit">
                                    <option value="days">día/s</option>
                                    <option value="weeks">semana/s</option>
                                </select>
                                <label></label>
                            </div>

                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <div>
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                                (click)="onCancel()">Cancelar</button>
                        </div>
                        <div>
                            <input type="submit" class="btn btn-primary" data-bs-dismiss="modal" value="Crear"
                                [disabled]="!form.valid">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>